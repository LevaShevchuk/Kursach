<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../assets/css/style.css" type="text/css">
    <link rel="shortcut icon" href="../../assets/images/favicon.png" type="image/png">
    <title>Методы</title>
</head>
<body>
    <div class="basis">
        <header>
            <nav>
                <input type="checkbox" id="checkbox-menu">
                <label for="checkbox-menu">
                    <div class='close' id='closer'></div>
                    <ul class="navigation touch">
                        <li><a href="../main/main.html">Главная</a></li>
                        <li><a href="../preparing/contents.html">Подготовка к работе с C#</a></li>
                        <li class="active"><a href="contents.html">Основы работы в C#</a></li>
                        <li><a href="../practical/contents.html">Практические задания</a></li>
                        <li><a href="../reference/contents.html">Справочные материалы</a></li>
                    </ul>
                </label>
            </nav> 
        </header>
        <div class="back">
            <a class="goback" href="#"><img src="../../assets/images/back.png" alt="back"></a>
        </div>
        <div class="center">
            <div class="main-page">
                <h2 class="title">Методы</h2>
                <p class="descrip"><span class="highlight">Методы</span> представляют собой набор операторов, которые выполняют определённые действия.</p>
                <p class="descrip">Общее определение <span class="highlight">методов</span> выглядит следующим образом:</p>
                <pre class="example-code"><code>[модификаторы] тип_возвращаемого_значения название_метода ([параметры])<br>{<br>   <span class="comments">// тело метода</span><br>}</code></pre>
                <p class="descrip">Модификаторы и параметры необязательны.</p>
                <p class="descrip">Консольная программа на языке <span class="highlight">C#</span> должна содержать как минимум один <span class="highlight">метод</span> - <span class="highlight">метод Main</span>, который является точкой входа в приложение:</p>
                <pre class="example-code"><code><span class="keywords">static void</span> Main(<span class="keywords">string</span>[] args)<br>{<br><br>}</code></pre>
                <p class="descrip">Ключевое слово <span class="highlight">static</span> является модификатором. Далее следует тип возвращаемого значения. В данном случае ключевое слово <span class="highlight">void</span> указывает на то, что <span class="highlight">метод</span> ничего не возвращает.</p>
                <p class="descrip">Далее следует <span class="highlight">название метода - Main</span> и в скобках параметры - <span class="highlight">string[] args</span>. В фигурные скобки заключено <span class="highlight">тело метода</span> - все действия, которые он выполняет. В данном случае <span class="highlight">метод Main</span> пуст, он не содержит никаких операторов и ничего не выполняет.</p>
                <p class="descrip">Ниже представлено определение ещё нескольких <span class="highlight">методов</span>:</p>
                <pre class="example-code"><code><span class="keywords">using</span> System;<br><br><span class="keywords">namespace</span> HelloApp<br>{<br><br>    <span class="keywords">class</span> Program<br>    {<br>        <span class="keywords">static void</span> Main(<span class="keywords">string</span>[] args)<br>        {<br><br>        }<br><br>        <span class="keywords">static void</span> SayHello()<br>        {<br>           <span class="keywords-light">Console</span>.WriteLine(<span class="string-code">"Привет!"</span>);<br>        }<br><br>        <span class="keywords">static void</span> SayGoodBye()<br>        {<br>           <span class="keywords-light">Console</span>.WriteLine(<span class="string-code">"Пока!"</span>);<br>        }<br>    }<br>}</code></pre>
                <p class="descrip">В данном случае определены два <span class="highlight">метода</span>: <span class="highlight">SayHello</span> и <span class="highlight">SayGoodBye</span>. Оба <span class="highlight">метода</span> определены в рамках класса <span class="highlight">Program</span>, они имеют модификатор <span class="highlight">static</span>, а в качестве возвращаемого типа для них определён тип <span class="highlight">void</span>. Данные <span class="highlight">методы</span> ничего не возвращают, они просто производят некоторые действия. И также оба <span class="highlight">метода</span> не имеют никаких параметров, поэтому после названия <span class="highlight">метода</span> указаны пустые скобки.</p>
                <p class="descrip">Оба <span class="highlight">метода</span> выводят на консоль некоторую строку. Причём для вывода на консоль <span class="highlight">методы</span> используют другой <span class="highlight">метод</span>, который определён в <span class="highlight">.NET</span> по умолчанию - <span class="highlight">Console.WriteLine()</span>.</p>
                <p class="descrip">Если запустить данную программу, то в консоли не отобразится никаких сообщений, которые должны выводить <span class="highlight">методы SayHello и SayGoodBye</span>, так как стартовой точкой является <span class="highlight">метод Main</span>. При запуске программы выполняется только <span class="highlight">метод Main</span> и все операторы, которые составляют тело этого <span class="highlight">метода</span>. Все остальные <span class="highlight">методы</span> не выполняются.</p>
                <p class="heading">Вызов методов</p>
                <p class="descrip">Чтобы использовать <span class="highlight">методы SayHello</span> и <span class="highlight">SayGoodBye</span> в программе, необходимо вызвать их в <span class="highlight">методе Main</span>.</p>
                <p class="descrip">Для вызова <span class="highlight">метода</span> указывается его имя, после которого в скобках идут значения для его параметров (если <span class="highlight">метод</span> принимает параметры).</p>
                <pre class="example-code"><code>название_метода (значения_для_параметров_метода);</code></pre>
                <p class="descrip">Ниже представлен вызов <span class="highlight">методов SayHello и SayGoodBye:</span></p>
                <pre class="example-code"><code><span class="keywords">using</span> System;<br><br><span class="keywords">namespace</span> HelloApp<br>{<br><br>    <span class="keywords">class</span> Program<br>    {<br>        <span class="keywords">static void</span> Main(<span class="keywords">string</span>[] args)<br>        {<br>           SayHello();<br>           SayGoodBye();<br><br>           <span class="keywords-light">Console</span>.ReadKey();<br>        }<br><br>        <span class="keywords">static void</span> SayHello()<br>        {<br>           <span class="keywords-light">Console</span>.WriteLine(<span class="string-code">"Привет!"</span>);<br>        }<br><br>        <span class="keywords">static void</span> SayGoodBye()<br>        {<br>           <span class="keywords-light">Console</span>.WriteLine(<span class="string-code">"Пока!"</span>);<br>        }<br>    }<br>}</code></pre>
                <p class="descrip"><span class="highlight">Консольный вывод:</span></p>
                <pre class="example-code console"><code>Привет!<br>Пока!</code></pre>
                <p class="descrip">Преимуществом <span class="highlight">методов</span> является то, что их можно повторно и многократно вызывать в различных частях программы. Например, в вышеприведённом примере в двух <span class="highlight">методах</span> для вывода строки на консоль используется<span class="highlight"> метод Console.WriteLine.</span></p>                
                <p class="heading">Возвращение значения</p>
                <p class="descrip"><span class="highlight">Метод</span> может возвращать значение, какой-либо результат. В примере выше были определены два <span class="highlight">метода</span>, которые имели тип <span class="highlight">void</span>. <span class="highlight">Методы</span> с таким типом не возвращают никакого значения. Они просто выполняют некоторые действия.</p>
                <p class="descrip">Если <span class="highlight">метод</span> имеет любой другой тип, отличный от <span class="highlight">void</span>, то такой <span class="highlight">метод</span> обязан вернуть значение этого типа. Для этого применяется оператор <span class="highlight">return</span>, после которого следует возвращаемое значение:</p>
                <pre class="example-code"><code><span class="keywords">return</span> возвращаемое значение;</code></pre>
                <p class="descrip">Далее представлено определение нескольких <span class="highlight">методов</span>:</p>
                <pre class="example-code"><code><span class="keywords">static string</span> GetHello()<br>{<br>   <span class="keywords">return</span> <span class="string-code">"Привет!"</span>;<br>}<br><span class="keywords">static int</span> GetSum()<br>{<br>   <span class="keywords">int</span> x = 2;<br>   <span class="keywords">int</span> y = 3;<br>   <span class="keywords">int</span> z = x + y;<br>   <span class="keywords">return</span> z;<br>}</code></pre>
                <p class="descrip"><span class="highlight">Метод GetHello</span> имеет тип <span class="highlight">string</span>, следовательно, он должен возвратить строку. Поэтому в теле <span class="highlight">метода</span> используется оператор <span class="highlight">return</span>, после которого указана возвращаемая строка.</p>
                <p class="descrip"><span class="highlight">Метод GetSum</span> имеет тип <span class="highlight">int</span>, следовательно, он должен возвратить значение типа <span class="highlight">int</span> - целое число. Поэтому в теле <span class="highlight">метода</span> используется оператор <span class="highlight">return</span>, после которого указано возвращаемое число (в данном случае результат суммы переменных <span class="highlight">x</span> и <span class="highlight">y</span>).</p>
                <p class="descrip">После оператора <span class="highlight">return</span> также можно указывать сложные выражения, которые возвращают определённый результат. Например:</p>
                <pre class="example-code"><code><span class="keywords">static int</span> GetSum()<br>{<br>   <span class="keywords">int</span> x = 2;<br>   <span class="keywords">int</span> y = 3;<br>   <span class="keywords">return</span> x + y;<br>}</code></pre>
                <p class="descrip">При этом <span class="highlight">методы</span>, которые в качестве возвращаемого типа имеют любой тип, отличный от <span class="highlight">void</span>, обязательно должны использовать оператор <span class="highlight">return</span> для возвращения значения. Например, следующее определение <span class="highlight">метода</span> некорректно:</p>
                <pre class="example-code"><code><span class="keywords">static string</span> GetHello()<br>{<br>   <span class="keywords-light">Console</span>.WriteLine(<span class="string-code">"Привет!"</span>);<br>}</code></pre>
                <p class="descrip">Также между возвращаемым типом <span class="highlight">метода</span> и возвращаемым значением после оператора <span class="highlight">return</span> должно быть соответствие. Например, в следующем случае возвращаемый тип - <span class="highlight">int</span>, но <span class="highlight">метод</span> возвращает строку (тип <span class="highlight">string</span>), поэтому такое определение <span class="highlight">метода</span> некорректно:</p>
                <pre class="example-code"><code><span class="keywords">static int</span> GetSum()<br>{<br>   <span class="keywords">int</span> x = 2;<br>   <span class="keywords">int</span> y = 3;<br>   <span class="keywords">return</span> <span class="string-code">"5"</span>;  <span class="comments">// ошибка - необходимо возвращать число</span><br>}</code></pre>
                <p class="descrip">Результат <span class="highlight">методов</span>, который возвращают значение, можно присвоить переменным или использовать иным образом в программе:</p>
                <pre class="example-code"><code><span class="keywords">using</span> System;<br><br><span class="keywords">namespace</span> HelloApp<br>{<br>   <span class="keywords">class</span> Program<br>   {<br>      <span class="keywords">static void</span> Main(<span class="keywords">string</span>[] args)<br>      {<br>         <span class="keywords">string</span> message = GetHello();<br>         <span class="keywords">int</span> sum = GetSum();<br>         <span class="keywords-light">Console</span>.WriteLine(message);  <span class="comments">// Привет!</span><br>         <span class="keywords-light">Console</span>.WriteLine(sum);  <span class="comments">// 5</span><br>         <span class="keywords-light">Console</span>.ReadKey();<br>      }<br><br>      <span class="keywords">static string</span> GetHello()<br>      {<br>         <span class="keywords">return</span> <span class="string-code">"Привет!"</span>;<br>      }<br><br>      <span class="keywords">static int</span> GetSum()<br>      {<br>        <span class="keywords">int</span> x = 2;<br>        <span class="keywords">int</span> y = 3;<br>        <span class="keywords">return</span> x + y;<br>      }<br>   }<br>}</code></pre>
                <p class="descrip"><span class="highlight">Метод GetHello</span> возвращает значение типа <span class="highlight">string</span>. Поэтому можно присвоить это значение какой-нибудь переменной типа <span class="highlight">string: string message = GetHello();</span></p>
                <p class="descrip">Второй <span class="highlight">метод - GetSum</span> - возвращает значение типа <span class="highlight">int</span>, поэтому его можно присвоить переменной, которая принимает значение этого типа: <span class="highlight">int sum = GetSum();</span>.</p>
                <p class="heading">Выход из метода</p>
                <p class="descrip">Оператор <span class="highlight">return</span> не только возвращает значение, но и производит выход из <span class="highlight">метода</span>. Поэтому он должен определяться после остальных инструкций. Например:</p>
                <pre class="example-code"><code><span class="keywords">static string</span> GetHello()<br>{<br>   <span class="keywords">return</span> <span class="string-code">"Hello"</span>;<br>   <span class="keywords-light">Console</span>.WriteLine(<span class="string-code">"Пока!"</span>);<br>}</code></pre>
                <p class="descrip">С точки зрения синтаксиса данный <span class="highlight">метод</span> корректен, однако его инструкция <span class="highlight">Console.WriteLine("Пока!")</span> не имеет смысла - она никогда не выполнится, так как до её выполнения оператор <span class="highlight">return</span> возвратит значение и произведёт выход из <span class="highlight">метода</span>.</p>
                <p class="descrip">Однако можно использовать оператор <span class="highlight">return</span> и в <span class="highlight">методах</span> с типом <span class="highlight">void</span>. В этом случае после оператора <span class="highlight">return</span> не ставится никакого возвращаемого значения (ведь <span class="highlight">метод</span> ничего не возвращает). Типичная ситуация - в зависимости от определённых условий произвести выход из <span class="highlight">метода</span>:</p>
                <pre class="example-code"><code><span class="keywords">static void</span> SayHello()<br>{<br>   <span class="keywords">int</span> hour = 23;<br>   <span class="keywords">if</span> (hour > 22)<br>   {<br>      <span class="keywords">return</span>;<br>   }<br>   <span class="keywords">else</span><br>   {<br>      <span class="keywords-light">Console</span>.WriteLine(<span class="string-code">"Привет!"</span>);<br>   }<br>}</code></pre>
                <p class="heading">Сокращённая запись методов</p>
                <p class="descrip">Если <span class="highlight">метод</span> в качестве тела определяет только одну инструкцию, то определение <span class="highlight">метода</span> можно сократить. Например, имеется следующий <span class="highlight">метод</span>:</p>
                <pre class="example-code"><code><span class="keywords">static void</span> SayHello()<br>{<br>   <span class="keywords-light">Console</span>.WriteLine(<span class="string-code">"Привет!"</span>);<br>}</code></pre>
                <p class="descrip">Его можно сократить следующим образом:</p>
                <pre class="example-code"><code><span class="keywords">static void</span> SayHello() => <span class="keywords-light">Console</span>.WriteLine(<span class="string-code">"Hello"</span>);</code></pre>
                <p class="descrip">После списка параметров ставится знак равно и больше чем, после которого следует выполняемая инструкция.</p>
                <p class="descrip">Подобным образом можно сокращать <span class="highlight">методы</span>, которые возвращают значение:</p>
                <pre class="example-code"><code><span class="keywords">static string</span> GetHello()<br>{<br>   <span class="keywords">return</span> <span class="string-code">"Привет!"</span>;<br>}</code></pre>
                <p class="descrip">Данный <span class="highlight">метод</span> аналогичен следующему:</p>
                <pre class="example-code"><code><span class="keywords">static string</span> GetHello() => <span class="string-code">"Привет!"</span>;</code></pre>
                <p class="heading">Параметры методов</p>
                <p class="descrip">Параметры позволяют передать в <span class="highlight">метод</span> некоторые входные данные. Далее определён <span class="highlight">метод</span>, который складывает два числа:</p>
                <pre class="example-code"><code><span class="keywords">static int</span> Sum(<span class="keywords">int</span> x, <span class="keywords">int</span> y)<br>{<br>   <span class="keywords">return</span> x + y;<br>}</code></pre>
                <p class="descrip"><span class="highlight">Метод Sum</span> имеет два параметра: <span class="highlight">x</span> и <span class="highlight">y</span>. Оба параметра представляют собой тип <span class="highlight">int</span>. Поэтому при вызове данного <span class="highlight">метода</span> необходимо передать на место этих параметров два числа:</p>
                <pre class="example-code"><code><span class="keywords">class</span> Program<br>{<br>   <span class="keywords">static void</span> Main(<span class="keywords">string</span>[] args)<br>   {<br>      <span class="keywords">int</span> result = Sum(10, 15);<br>      <span class="keywords-light">Console</span>.WriteLine(result);  <span class="comments">// 25</span><br><br>      <span class="keywords-light">Console</span>.ReadKey();<br>   }<br>   <span class="keywords">static int</span> Sum(<span class="keywords">int</span> x, <span class="keywords">int</span> y)<br>   {<br>      <span class="keywords">return</span> x + y;<br>   }<br>}</code></pre>
                <p class="descrip">При вызове <span class="highlight">метода Sum</span> значения передаются параметрам по позиции. В вызове Sum(10, 15) число 10 передается параметру <span class="highlight">x</span>, а число 15 - параметру <span class="highlight">y</span>. Значения, которые передаются параметрам, ещё называются <span class="highlight">аргументами</span>. Передаваемые числа 10 и 15 в данном случае являются <span class="highlight">аргументами</span>.</p>
                <p class="descrip">Иногда можно встретить такие определения, как <span class="highlight">формальные параметры</span> и <span class="highlight">фактические параметры</span>. <span class="highlight">Формальные параметры</span> - это <span class="highlight">параметры метода</span> (в данном случае <span class="highlight">x</span> и <span class="highlight">y</span>), а <span class="highlight">фактические параметры</span> - значения, которые передаются <span class="highlight">формальным параметрам</span>. <span class="highlight">Фактические параметры</span> являются <span class="highlight">аргументами метода</span>.</p>
                <p class="descrip">Передаваемые параметру значения могут представлять значения переменных или результат работы сложных выражений, которые возвращают некоторое значение:</p>
                <pre class="example-code"><code><span class="keywords">class</span> Program<br>{<br>   <span class="keywords">static void</span> Main(<span class="keywords">string</span>[] args)<br>   {<br>      <span class="keywords">int</span> a = 25;<br>      <span class="keywords">int</span> b = 35;<br>      <span class="keywords">int</span> result = Sum(a, b);<br>      <span class="keywords-light">Console</span>.WriteLine(result);  <span class="comments">// 60</span><br><br>      result = Sum(b, 45);<br>      <span class="keywords-light">Console</span>.WriteLine(result);   <span class="comments">// 80</span><br>      result = Sum(a + b + 12, 18);   <span class="comments">// "a + b + 12" представляет собой значение параметра x</span><br>      <span class="keywords-light">Console</span>.WriteLine(result);  <span class="comments">// 90</span><br><br>      <span class="keywords-light">Console</span>.ReadKey();<br>   }<br><br>   <span class="keywords">static int</span> Sum(<span class="keywords">int</span> x, <span class="keywords">int</span> y)<br>   {<br>      <span class="keywords">return</span> x + y;<br>   }<br>}</code></pre>
                <p class="descrip">Если параметрами <span class="highlight">метода</span> передаются значения переменных, то таким переменным должно быть присвоено значение. Например, следующая программа не скомпилируется:</p>
                <pre class="example-code"><code><span class="keywords">class</span> Program<br>{<br>   <span class="keywords">static void</span> Main(<span class="keywords">string</span>[] args)<br>   {<br>      <span class="keywords">int</span> a;<br>      <span class="keywords">int</span> b = 9;<br>      Sum(a, b);  <span class="comments">   // Ошибка - переменной a не присвоено значение</span><br><br>      <span class="keywords-light">Console</span>.ReadKey();<br>   }<br>   <span class="keywords">static int</span> Sum(<span class="keywords">int</span> x, <span class="keywords">int</span> y)<br>   {<br>      <span class="keywords">return</span> x + y;<br>   }<br>}</code></pre>
                <p class="descrip">При передаче значений параметрам важно учитывать тип параметров: между аргументами и параметрами должно быть соответствие по типу. Например:</p>
                <pre class="example-code"><code><span class="keywords">class</span> Program<br>{<br>   <span class="keywords">static void</span> Main(<span class="keywords">string</span>[] args)<br>   {<br>      Display(<span class="string-code">"Лев"</span>, 20);   <span class="comments">// Имя: Лев  Возраст: 20</span><br><br>      <span class="keywords-light">Console</span>.ReadKey();<br>   }<br>   <span class="keywords">static void</span> Display(<span class="keywords">string</span> name, <span class="keywords">int</span> age)<br>   {<br>      <span class="keywords-light">Console</span>.WriteLine(<span class="string-code">$"Имя:</span> {name}  <span class="string-code">Возраст:</span> {age}<span class="string-code">"</span>);<br>   }<br>}</code></pre>
                <p class="descrip">В данном случае первый параметр <span class="highlight">метода Display</span> представляет собой тип <span class="highlight">string</span>, следовательно, необходимо передать этому параметру значение типа <span class="highlight">string</span> (строку). Второй параметр представляет тип <span class="highlight">int</span>, поэтому ему необходимо передать целое число, которое соответствует типу <span class="highlight">int</span>.</p>
                <p class="descrip">Другие данные параметрам передать нельзя. Например, следующий вызов <span class="highlight">метода Display</span> будет ошибочным:</p>
                <pre class="example-code"><code>Display(20, <span class="string-code">"Лев"</span>);   <span class="comments">// Ошибка! несоответствие значений типам параметров</span></code></pre>
                <p class="heading">Необязательные параметры</p>
                <p class="descrip">По умолчанию при вызове <span class="highlight">метода</span> необходимо предоставить значения для всех его параметров. Но <span class="highlight">C#</span> также позволяет использовать <span class="highlight">необязательные параметры</span>. Для таких параметров необходимо объявить значение по умолчанию. Также следует учитывать, что после <span class="highlight">необязательных параметров</span> все последующие параметры также должны быть необязательными:</p>
                <pre class="example-code"><code><span class="keywords">static int</span> OptionalParam(<span class="keywords">int</span> x, <span class="keywords">int</span> y, <span class="keywords">int</span> z = 5, <span class="keywords">int</span> s = 4)<br>{<br>   <span class="keywords">return</span> x + y + z + s;<br>}</code></pre>
                <p class="descrip">Так как последние два параметра объявлены как необязательные, то один из них или оба можно опустить:</p>
                <pre class="example-code"><code><span class="keywords">static void</span> Main(<span class="keywords">string</span>[] args)<br>{<br>   OptionalParam(2, 3);<br><br>   OptionalParam(2, 3, 10);<br><br>   <span class="keywords-light">Console</span>.ReadKey();<br>}</code></pre>
                <p class="heading">Именованные параметры</p>
                <p class="descrip">В предыдущих примерах при вызове <span class="highlight">методов</span> значения для параметров передавались в порядке объявления этих параметров в <span class="highlight">методе</span>. Но можно нарушить подобный порядок, используя <span class="highlight">именованные параметры:</span></p>
                <pre class="example-code"><code><span class="keywords">static int</span> OptionalParam(<span class="keywords">int</span> x, <span class="keywords">int</span> y, <span class="keywords">int</span> z = 5, <span class="keywords">int</span> s = 4)<br>{<br>   <span class="keywords">return</span> x + y + z + s;<br>}<br><br><span class="keywords">static void</span> Main(<span class="keywords">string</span>[] args)<br>{<br>   OptionalParam(x:2, y:3);<br><br>   OptionalParam(y:2, x:3, s:10);   <span class="comments">// Необязательный параметр z использует значение по умолчанию</span><br><br>   <span class="keywords-light">Console</span>.ReadKey();<br>}</code></pre>
                <div class="but-link">
                    <a class="button-link" href="../practical/methods.html">Перейти к практическим заданиям</a> 
                </div>
            </div>
        </div>
        <a class="toTop" onclick="return up()"><img src="../../assets/images/top.png" alt="top"></a>
        <footer>
            <p><b>Разработчик:</b> Студент группы ПИ-21СВ Шевчук Лев Викторович<br>
                <b>Образовательная программа:</b> 09.03.04 Программная инженерия<br>
                НИУ ВШЭ-Пермь</p>
        </footer>		
    </div>
<script src="../../assets/js/script.js"></script>
</body>
</html>